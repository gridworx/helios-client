# Helios v1.0.0 - Known Limitations

**Release**: v1.0.0 Foundation Release
**Date**: November 1, 2025
**Status**: Production-ready with documented limitations

---

## ğŸ¯ What v1.0.0 IS

**Helios v1.0.0 is a FOUNDATION release** providing:
- âœ… Solid authentication and authorization
- âœ… Professional UI with design system
- âœ… API Key Management (enterprise-grade)
- âœ… Google Workspace import (one-time user sync)
- âœ… Clean architecture ready for rapid iteration

**This is NOT** a feature-complete Google Workspace admin replacement.
**This IS** a solid foundation to build upon.

---

## âš ï¸ Google Workspace Sync Limitations

### What Works:
- âœ… **Initial Import**: Import users from Google Workspace (one-time)
- âœ… **Manual Sync**: Re-import users on demand
- âœ… **Delete â†’ Suspend**: Deleting user in Helios suspends in Google Workspace
- âœ… **Status Display**: See which users are from Google vs local

### What Doesn't Work (Yet):
- âŒ **Continuous Sync**: Status changes in Google don't auto-sync to Helios
  - **Workaround**: Click "Sync" button in Settings â†’ Modules to refresh
  - **Coming in**: v1.1

- âŒ **Group Memberships**: User group memberships not displayed
  - **Reason**: `gw_group_members` table migration not yet created
  - **Workaround**: View groups in Google Admin Console
  - **Coming in**: v1.1

- âŒ **Create Users in Google**: Cannot create Google Workspace users from Helios
  - **Workaround**: Create in Google Admin Console, then sync to Helios
  - **Coming in**: v1.1

- âŒ **Update Users in Google**: Cannot update Google user attributes from Helios
  - **Workaround**: Update in Google Admin Console, then sync to Helios
  - **Coming in**: v1.1

### Sync Model (v1.0.0):
```
Google Workspace (Source of Truth)
    â†“ One-time import + manual sync
Helios (View + Local Management)
    â†“ Delete action only
Google Workspace (User suspended)
```

**This is intentionally simple** to avoid sync conflicts and data loss while we refine the bi-directional sync architecture.

---

## âš ï¸ Delete vs Suspend Confusion

### Current Behavior (v1.0.0):
**"Delete User" button**:
- Soft-deletes in Helios (restorable 30 days)
- **Suspends** (not deletes) in Google Workspace
- License still consumed in Google

### Why This is Confusing:
- Button says "Delete" but action is "Suspend" in Google
- Users expect delete to free license
- No separate "Suspend" option

### Clarification:
**Helios v1.0.0 prioritizes safety over semantics:**
- We suspend in Google (reversible) rather than delete (permanent)
- This prevents accidental data loss
- Google Workspace data (Drive, Calendar) remains intact

### Coming in v1.1:
- **Separate "Suspend" button**: Suspends in both systems
- **"Delete" button clarity**: Deletes from Helios, offers Google options
- **Offboarding workflow**: Transfer data, then delete
- **License management**: Clear indication of license consumption

### Current Workaround:
To truly delete a Google Workspace user:
1. Delete in Helios (suspends in Google)
2. Go to Google Admin Console
3. Transfer user's data to another user
4. Delete user from Google Admin Console
5. License freed

---

## âš ï¸ Dashboard Statistics

### Current Behavior:
- User count may not match Google Workspace exactly
- Group count shows 0 until group sync implemented
- Stats update on page load, not real-time

### Why:
**User Count Logic (v1.0.0)**:
```sql
-- Counts unique users from:
SELECT COUNT(DISTINCT email) FROM (
  SELECT email FROM organization_users WHERE deleted_at IS NULL
  UNION
  SELECT email FROM gw_synced_users
) combined;
```

**Issues**:
- If you have local users + Google users, count is combined
- Deleted users excluded (correct)
- Suspended Google users may or may not sync (depends on last sync)

**Group Count**:
- Currently queries `gw_groups` table
- If group sync hasn't run, shows 0
- Group sync implementation incomplete in v1.0.0

### Workaround:
- Click Settings â†’ Modules â†’ Google Workspace â†’ "Sync" to refresh stats
- Manual verification: Compare with Google Admin Console

### Coming in v1.1:
- Real-time stats via Google Workspace API
- Separate counts: "X Google users, Y local users, Z total"
- Live sync indicator

---

## âš ï¸ Group Management Limitations

### What Doesn't Work:
- âŒ **User group memberships not displayed** in UserSlideOut Groups tab
  - **Reason**: `gw_group_members` table doesn't exist yet
  - **Endpoint exists** but queries missing table

### What Does Work:
- âœ… View list of groups (Settings â†’ Groups page)
- âœ… See group count
- âœ… Group metadata (name, email, description)

### Coming in v1.1:
- Create `gw_group_members` table
- Sync group memberships during Google Workspace sync
- Display user's groups in UserSlideOut
- Add/remove users from groups

---

## âœ… What IS Production-Ready in v1.0.0

### Authentication & Authorization
- âœ… Email/password login
- âœ… JWT tokens with refresh
- âœ… Role-based access (Admin, Manager, User)
- âœ… Password change
- âœ… Session management

### User Directory
- âœ… User list with search and filters
- âœ… User detail view (UserSlideOut)
- âœ… User status management
- âœ… 30-day soft delete with restore
- âœ… Local user creation

### API Key Management (Enterprise-Grade)
- âœ… Service keys (automation)
- âœ… Vendor keys (partner access with actor attribution)
- âœ… Permission scoping with intelligent dependencies
- âœ… Secure one-time display
- âœ… Expiration management
- âœ… Full audit trail

### Settings
- âœ… Module management
- âœ… Organization configuration
- âœ… Security settings
- âœ… Custom labels
- âœ… Google Workspace configuration display

### Technical Foundation
- âœ… Canonical data model
- âœ… Feature flags system
- âœ… Docker deployment
- âœ… 21 E2E tests passing
- âœ… Clean, maintainable codebase
- âœ… Professional UI/UX

---

## ğŸ—ºï¸ Roadmap to v1.1 (Next 2-3 weeks)

### Priority 1: Complete Google Workspace Integration
- Create `gw_group_members` table
- Implement group membership sync
- Display groups in UserSlideOut
- Fix stats to be real-time accurate

### Priority 2: Proper Delete vs Suspend
- Add "Suspend User" button (suspends in both systems)
- Clarify "Delete User" (Helios only, with Google options)
- Add data transfer workflow (future)
- Clear license impact messaging

### Priority 3: Bi-Directional Sync
- Status changes in Google â†’ Auto-sync to Helios (webhook or polling)
- Create user in Helios â†’ Create in Google
- Update user in Helios â†’ Update in Google
- Conflict resolution strategy

### Priority 4: API-Based Testing
- Test stats via API (not just UI)
- Test delete/suspend via API
- Test group sync via API
- Add to CI/CD pipeline

---

## ğŸ“‹ For Users

### What You Can Do in v1.0.0:
- âœ… Import users from Google Workspace
- âœ… View and search users
- âœ… Create local users (contractors, etc.)
- âœ… Manage user details
- âœ… Delete users (soft-delete in Helios, suspends in Google)
- âœ… Create API keys for integrations
- âœ… Configure Google Workspace connection

### What Requires Google Admin Console:
- âš ï¸ Creating Google Workspace users
- âš ï¸ Updating Google user attributes
- âš ï¸ Managing group memberships
- âš ï¸ Transferring user data
- âš ï¸ Permanently deleting users

### Recommended Workflow (v1.0.0):
1. **Primary management**: Google Admin Console
2. **Import to Helios**: Settings â†’ Modules â†’ Sync
3. **View in Helios**: Directory, reporting, API keys
4. **Local enhancements**: Add metadata, create local users
5. **Re-sync periodically**: Keep Helios data fresh

---

## ğŸ“ What We Learned Tonight

### Key Insights:
1. **Manual testing reveals truth** - Automated tests passed, but features were incomplete
2. **Delete vs Suspend matters** - Enterprise users care about license consumption
3. **Stats accuracy is trust** - Wrong numbers = broken confidence
4. **Foundation first, features later** - Solid architecture > half-baked features

### What We Fixed:
- Removed all placeholder features
- Added Google Workspace suspend on delete
- Intelligent API permission dependencies
- Clean, honest UI

### What We Discovered Needs Work:
- Group membership tables don't exist
- Sync is one-way only
- Delete semantics need refinement
- Need API-based testing

---

## ğŸš€ Shipping v1.0.0

**v1.0.0 is:**
- A solid foundation âœ…
- Honest about limitations âœ…
- Production-deployable âœ…
- Ready for feedback âœ…

**v1.0.0 is NOT:**
- Feature-complete âŒ
- Fully bi-directional âŒ
- Group-management ready âŒ

**And that's okay!** Ship, learn, iterate.

---

## ğŸ“ Next Session Recommendations

**Priority 1**: Create ITSM OpenSpec proposal (while ITFlow analysis is fresh)
**Priority 2**: Plan v1.1 (bi-directional sync, groups, delete/suspend)
**Priority 3**: API-based test suite
**Priority 4**: User feedback from v1.0.0 deployment

**Ship v1.0.0 tonight, iterate rapidly.** ğŸš€
